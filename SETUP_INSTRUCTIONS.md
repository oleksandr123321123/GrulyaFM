# Setup Instructions - –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GrulyaFM

–ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## üîê 1. –°–æ–∑–¥–∞—Ç—å GitHub Secrets

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã Secrets?

GitHub Secrets –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω—è—Ç –ø–∞—Ä–æ–ª–∏ –¥–ª—è CI/CD pipeline:
- `ANDROID_KEYSTORE_PASSWORD` - –ø–∞—Ä–æ–ª—å –æ—Ç Android keystore
- `ANDROID_KEY_PASSWORD` - –ø–∞—Ä–æ–ª—å –æ—Ç –∫–ª—é—á–∞ –≤–Ω—É—Ç—Ä–∏ keystore
- `LHCI_GITHUB_APP_TOKEN` - —Ç–æ–∫–µ–Ω –¥–ª—è Lighthouse CI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥ 1: –ü–µ—Ä–µ–π—Ç–∏ –≤ Settings

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://github.com/oleksandr123321123/GrulyaFM
2. –ù–∞–∂–º–∏—Ç–µ **Settings** (–≤–∫–ª–∞–¥–∫–∞ —Å–ø—Ä–∞–≤–∞)
3. –í –ª–µ–≤–æ–º –º–µ–Ω—é: **Secrets and variables** ‚Üí **Actions**

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å Secrets

–ù–∞–∂–º–∏—Ç–µ **New repository secret** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ:

#### Secret 1: ANDROID_KEYSTORE_PASSWORD

```
Name: ANDROID_KEYSTORE_PASSWORD
Value: [–ü–∞—Ä–æ–ª—å –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ keystore]
```

**–ì–¥–µ –≤–∑—è—Ç—å –ø–∞—Ä–æ–ª—å:**
- –ï—Å–ª–∏ –≤—ã –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–ª–∏ keystore, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ (—Å–º. —Ä–∞–∑–¥–µ–ª "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Keystore" –Ω–∏–∂–µ)
- –ï—Å–ª–∏ —Å–æ–∑–¥–∞–ª–∏, –≤–æ–∑—å–º–∏—Ç–µ –∏–∑ password manager

**–ù–∞–∂–º–∏—Ç–µ:** Add secret

#### Secret 2: ANDROID_KEY_PASSWORD

```
Name: ANDROID_KEY_PASSWORD
Value: [–ü–∞—Ä–æ–ª—å –æ—Ç –∫–ª—é—á–∞ - –æ–±—ã—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ –∫–∞–∫ KEYSTORE_PASSWORD]
```

**–û–±—ã—á–Ω–æ** —ç—Ç–æ —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å, —á—Ç–æ –∏ keystore password.

**–ù–∞–∂–º–∏—Ç–µ:** Add secret

#### Secret 3: LHCI_GITHUB_APP_TOKEN (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω –Ω—É–∂–µ–Ω –¥–ª—è –∫—Ä–∞—Å–∏–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ Lighthouse CI –ø—Ä—è–º–æ –≤ Pull Requests.

**–ï—Å–ª–∏ –ù–ï —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å:**
- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥
- Lighthouse –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –±–µ–∑ GitHub –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Lighthouse CI GitHub App](https://github.com/apps/lighthouse-ci)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
4. –î–æ–±–∞–≤—å—Ç–µ –∫–∞–∫ Secret:
   ```
   Name: LHCI_GITHUB_APP_TOKEN
   Value: [–í–∞—à —Ç–æ–∫–µ–Ω]
   ```

### –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:

```
‚úÖ ANDROID_KEYSTORE_PASSWORD
‚úÖ ANDROID_KEY_PASSWORD
‚úÖ LHCI_GITHUB_APP_TOKEN (optional)
```

**–í–∞–∂–Ω–æ:** Secrets –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏, –ø–æ—Ç–æ–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `***`

---

## üîë –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Android Keystore (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)

### –ï—Å–ª–∏ keystore —É–∂–µ –µ—Å—Ç—å

–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª.

### –ï—Å–ª–∏ keystore –ù–ï–¢

**–í–∞–∂–Ω–æ:** –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ keystore –ª–æ–∫–∞–ª—å–Ω–æ, –ü–û–¢–û–ú –¥–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ GitHub Secrets.

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å keystore

```bash
cd C:\Users\alex\Documents\GitHub\GrulyaFM

keytool -genkey -v -keystore upload.keystore -alias upload-key -keyalg RSA -keysize 2048 -validity 10000
```

#### –®–∞–≥ 2: –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

```
Enter keystore password: [–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å, min 6 —Å–∏–º–≤–æ–ª–æ–≤]
Re-enter new password: [–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ]

What is your first and last name?
  [Unknown]:  Alexander (–≤–∞—à–µ –∏–º—è)

What is the name of your organizational unit?
  [Unknown]:  GrulyaFM

What is the name of your organization?
  [Unknown]:  GrulyaFM

What is the name of your City or Locality?
  [Unknown]:  [–í–∞—à –≥–æ—Ä–æ–¥]

What is the name of your State or Province?
  [Unknown]:  [–û–±–ª–∞—Å—Ç—å/—Ä–µ–≥–∏–æ–Ω]

What is the two-letter country code for this unit?
  [Unknown]:  UA (–∏–ª–∏ –≤–∞—à –∫–æ–¥)

Is CN=..., OU=..., O=..., L=..., ST=..., C=UA correct?
  [no]:  yes

Enter key password for <upload-key>
	(RETURN if same as keystore password): [ENTER - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å]
```

#### –®–∞–≥ 3: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤ 3 –º–µ—Å—Ç–∞—Ö:

1. **Password Manager** (1Password, Bitwarden, LastPass)
2. **–ë—É–º–∞–∂–Ω–∞—è –∑–∞–ø–∏—Å–∫–∞** –≤ —Å–µ–π—Ñ–µ
3. **–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª** –Ω–∞ USB

**–ï—Å–ª–∏ –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –ø–∞—Ä–æ–ª—å** - –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ù–ê–í–°–ï–ì–î–ê!

#### –®–∞–≥ 4: Backup keystore

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å keystore –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ
copy upload.keystore "D:\Backups\GrulyaFM-keystore-backup.keystore"
copy upload.keystore "E:\USB-Drive\GrulyaFM-keystore.keystore"
```

#### –®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)

`.gitignore` —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:
```
*.keystore
upload.keystore
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
```bash
git status
# –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ .keystore —Ñ–∞–π–ª–∞—Ö
```

#### –®–∞–≥ 6: –ò–∑–≤–ª–µ—á—å SHA256 fingerprint

```bash
keytool -list -v -keystore upload.keystore -alias upload-key | findstr SHA256
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
SHA256: 11:13:66:59:75:61:0C:83:65:6D:C8:45:57:25:F5:A8:E8:02:AC:98:57:E6:AB:4A:D9:68:FC:60:C9:A7:26:47
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç SHA256** - –æ–Ω –Ω—É–∂–µ–Ω –¥–ª—è `assetlinks.json`.

#### –®–∞–≥ 7: –û–±–Ω–æ–≤–∏—Ç—å assetlinks.json

–û—Ç–∫—Ä–æ–π—Ç–µ `.well-known/assetlinks.json` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ SHA256:

```json
{
  "relation": ["delegate_permission/common.handle_all_urls"],
  "target": {
    "namespace": "android_app",
    "package_name": "app.vercel.grulya_fm.twa",
    "sha256_cert_fingerprints": [
      "11:13:66:59:75:61:0C:83:65:6D:C8:45:57:25:F5:A8:E8:02:AC:98:57:E6:AB:4A:D9:68:FC:60:C9:A7:26:47"
    ]
  }
}
```

---

## üì± 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ iOS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- iPhone –∏–ª–∏ iPad —Å iOS 14+
- Safari browser
- –î–æ—Å—Ç—É–ø –∫ https://grulya-fm.vercel.app

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PWA –Ω–∞ Home Screen

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Safari** –Ω–∞ iPhone/iPad
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ:** https://grulya-fm.vercel.app
3. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É Share** (–∫–≤–∞–¥—Ä–∞—Ç —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π –≤–≤–µ—Ä—Ö)
4. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑** ‚Üí **"Add to Home Screen"**
5. **–ù–∞–∂–º–∏—Ç–µ "Add"**

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–∫–æ–Ω–∫–∞ GrulyaFM –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ home screen

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. **–ù–∞–∂–º–∏—Ç–µ** –Ω–∞ –∏–∫–æ–Ω–∫—É GrulyaFM
2. **–î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è:** Fullscreen –±–µ–∑ Safari UI
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** Status bar –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π, –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ–¥ –Ω–∏–º

### –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Audio Playback

**–¢–µ—Å—Ç 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∞—É–¥–∏–æ**
1. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±—É—é —Ä–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏—é
2. –ù–∞–∂–º–∏—Ç–µ Play
3. **–û–∂–∏–¥–∞–µ–º–æ:** –ê—É–¥–∏–æ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏–≥—Ä–∞—Ç—å —Å—Ä–∞–∑—É (–±–µ–∑ –æ—à–∏–±–æ–∫ "The user didn't interact")

**–¢–µ—Å—Ç 2: Background playback**
1. –ù–∞—á–Ω–∏—Ç–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
2. –ù–∞–∂–º–∏—Ç–µ Home button (—Å–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
3. **–û–∂–∏–¥–∞–µ–º–æ:** –ú—É–∑—ã–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏–≥—Ä–∞—Ç—å

**–¢–µ—Å—Ç 3: Lock screen controls**
1. –ù–∞—á–Ω–∏—Ç–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
2. –ó–∞–±–ª–æ–∫–∏—Ä—É–π—Ç–µ —ç–∫—Ä–∞–Ω (Power button)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ lock screen:**
   - –î–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —Å—Ç–∞–Ω—Ü–∏—è
   - –ö–Ω–æ–ø–∫–∏ Play/Pause/Next/Previous
   - Artwork (–µ—Å–ª–∏ –µ—Å—Ç—å metadata)

**–¢–µ—Å—Ç 4: –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è**
1. –ù–∞—á–Ω–∏—Ç–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
2. –ü–æ–∑–≤–æ–Ω–∏—Ç–µ —Å–µ–±–µ –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∏–¥–µ–æ –≤ –¥—Ä—É–≥–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. **–û–∂–∏–¥–∞–µ–º–æ:** GrulyaFM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–≤–∏—Ç –Ω–∞ –ø–∞—É–∑—É
4. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞ ‚Üí **–¥–æ–ª–∂–Ω–æ –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å—Å—è**

### –®–∞–≥ 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Push Notifications (iOS 16.4+)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ iOS:**
- Settings ‚Üí General ‚Üí About ‚Üí Software Version
- –ù—É–∂–Ω–æ **iOS 16.4 –∏–ª–∏ –≤—ã—à–µ**

**–ï—Å–ª–∏ iOS < 16.4:**
- Web Push –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Ç–µ—Å—Ç

**–ï—Å–ª–∏ iOS >= 16.4:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Console** (–µ—Å–ª–∏ –µ—Å—Ç—å Mac):
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone –∫ Mac
   - Safari (Mac) ‚Üí Develop ‚Üí [Your iPhone] ‚Üí grulya-fm.vercel.app
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console –Ω–∞ –æ—à–∏–±–∫–∏

2. **–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:**
   ```javascript
   // –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (–∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –≤ UI)
   Notification.requestPermission().then(permission => {
     console.log('Permission:', permission);
   });
   ```

3. **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
   - iOS –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç native prompt "Allow notifications?"
   - –ü–æ—Å–ª–µ Allow - –ø–æ–¥–ø–∏—Å–∫–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
   ```javascript
   // –í –∫–æ–Ω—Å–æ–ª–∏
   navigator.serviceWorker.ready.then(reg => {
     return reg.pushManager.getSubscription();
   }).then(sub => {
     console.log('Subscription:', sub);
   });
   ```

**–í–∞–∂–Ω–æ:** –ù–∞ iOS Web Push —Ä–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û –≤ standalone mode (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ PWA), –ù–ï –≤ Safari –±—Ä–∞—É–∑–µ—Ä–µ.

### –®–∞–≥ 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Offline Mode

1. **–í–∫–ª—é—á–∏—Ç–µ Airplane Mode** –Ω–∞ iPhone
2. **–û—Ç–∫—Ä–æ–π—Ç–µ GrulyaFM** (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ PWA)
3. **–û–∂–∏–¥–∞–µ–º–æ:**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è)
   - –°–ø–∏—Å–æ–∫ —Å—Ç–∞–Ω—Ü–∏–π –¥–æ—Å—Ç—É–ø–µ–Ω (–∏–∑ –∫—ç—à–∞)
   - –ü–æ–ø—ã—Ç–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É (–Ω–æ—Ä–º–∞–ª—å–Ω–æ - –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)

4. **–í—ã–∫–ª—é—á–∏—Ç–µ Airplane Mode**
5. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ Play** ‚Üí –¥–æ–ª–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å

### –ß–µ–∫-–ª–∏—Å—Ç iOS Testing

- [ ] PWA —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ home screen
- [ ] –ò–∫–æ–Ω–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è (–Ω–µ generic Safari icon)
- [ ] –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è fullscreen (–±–µ–∑ Safari UI)
- [ ] Status bar –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π
- [ ] –ê—É–¥–∏–æ –∏–≥—Ä–∞–µ—Ç —Å—Ä–∞–∑—É (–±–µ–∑ –æ—à–∏–±–æ–∫ unlock)
- [ ] Background playback —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Lock screen controls –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
- [ ] –ê–≤—Ç–æ–ø–∞—É–∑–∞ –ø—Ä–∏ –∑–≤–æ–Ω–∫–µ
- [ ] –ê–≤—Ç–æ–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–≤–æ–Ω–∫–∞
- [ ] Service Worker –∫—ç—à–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç offline (UI –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è)
- [ ] Push notifications (–µ—Å–ª–∏ iOS 16.4+)

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console –≤ Safari Web Inspector:
```
iPhone ‚Üí Settings ‚Üí Safari ‚Üí Advanced ‚Üí Web Inspector: ON
Mac ‚Üí Safari ‚Üí Develop ‚Üí [Your iPhone] ‚Üí grulya-fm.vercel.app
```

–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –æ—à–∏–±–∫–∏ –≤ Console –∏ Network.

---

## üöÄ 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å CI/CD

### GitHub Actions —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

–ü–æ—Å–ª–µ –≤–∞—à–µ–≥–æ `git push` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è pipeline.

### –®–∞–≥ 1: Push –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
cd C:\Users\alex\Documents\GitHub\GrulyaFM

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status

# –ó–∞–ø—É—à–∏—Ç—å (–µ—Å–ª–∏ –µ—Å—Ç—å uncommitted changes)
git push origin master
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—Å–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://github.com/oleksandr123321123/GrulyaFM/actions
2. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–π workflow: **"CI/CD Pipeline"**
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å progress

### –®–∞–≥ 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

**Jobs –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å—Ç—è—Ç—Å—è:**

1. **Lint & Code Quality** (~1 –º–∏–Ω)
   - ESLint –ø—Ä–æ–≤–µ—Ä–∫–∞
   - –ü–æ–∏—Å–∫ console.log
   - –ü–æ–∏—Å–∫ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

2. **Security Audit** (~2 –º–∏–Ω)
   - npm audit
   - TruffleHog (–ø–æ–∏—Å–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ .gitignore

3. **Lighthouse CI** (~3 –º–∏–Ω)
   - Performance audit
   - Accessibility check
   - PWA validation
   - Budget checks

4. **Service Worker Warmup** (~1 –º–∏–Ω)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ sw.js
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ cache strategies

5. **Verify Deployment** (~1 –º–∏–Ω)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Å–∞–π—Ç live
   - manifest.json –¥–æ—Å—Ç—É–ø–µ–Ω
   - Service Worker –¥–æ—Å—Ç—É–ø–µ–Ω
   - assetlinks.json –¥–æ—Å—Ç—É–ø–µ–Ω

6. **Notify Success** (~10 —Å–µ–∫)
   - –û—Ç—á—ë—Ç –æ–± —É—Å–ø–µ—à–Ω–æ–º –¥–µ–ø–ª–æ–µ

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ï—Å–ª–∏ –≤—Å—ë –∑–µ–ª—ë–Ω–æ–µ ‚úÖ:**
- CI/CD —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ö–æ–¥ –ø—Ä–æ—à—ë–ª –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- Deployment —É—Å–ø–µ—à–Ω—ã–π

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –∫—Ä–∞—Å–Ω–æ–µ ‚ùå:**
- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ failed job
- –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ª–æ–≥–∏
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏
- –ó–∞–ø—É—à—å—Ç–µ —Ñ–∏–∫—Å

### –®–∞–≥ 5: –°–æ–±—Ä–∞—Ç—å Android AAB (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

Android AAB —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ git tag.

**–°–æ–∑–¥–∞—Ç—å —Ä–µ–ª–∏–∑:**

```bash
# –°–æ–∑–¥–∞—Ç—å tag
git tag -a v1.0.0 -m "Release version 1.0.0"

# –ó–∞–ø—É—à–∏—Ç—å tag
git push origin v1.0.0
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
1. GitHub Actions –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å–Ω–æ–≤–∞
2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è job **"Build Android App"**
3. –°–æ–±–µ—Ä—ë—Ç—Å—è `app-release.aab`
4. –°–æ–∑–¥–∞—Å—Ç—Å—è Draft Release –Ω–∞ GitHub
5. .aab —Ñ–∞–π–ª –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—Å—è –∫ Release

**–°–∫–∞—á–∞—Ç—å AAB:**
1. https://github.com/oleksandr123321123/GrulyaFM/releases
2. –ù–∞–π–¥–∏—Ç–µ v1.0.0 (Draft)
3. –°–∫–∞—á–∞–π—Ç–µ `app-release.aab`
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤ Google Play Console

### –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

**1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å:**
- –ù—É–∂–Ω—ã ANDROID_KEYSTORE_PASSWORD –∏ ANDROID_KEY_PASSWORD secrets
- –ï—Å–ª–∏ –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏ - build:android job —É–ø–∞–¥—ë—Ç (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

**2. Lighthouse –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å warnings:**
- –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
- –¢–æ–ª—å–∫–æ errors –±–ª–æ–∫–∏—Ä—É—é—Ç pipeline
- Warnings –º–æ–∂–Ω–æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

**3. TruffleHog –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å false positives:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–∞—à—ë–ª
- –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç - ignore
- –ï—Å–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç - –ù–ï–ú–ï–î–õ–ï–ù–ù–û —Ä–æ—Ç–∏—Ä—É–π—Ç–µ

---

## üìä Continuous Integration Dashboard

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã –±—É–¥–µ—Ç–µ –≤–∏–¥–µ—Ç—å:

```
Repository: GrulyaFM
‚îú‚îÄ‚îÄ ‚úÖ CI/CD Pipeline (latest)
‚îÇ   ‚îú‚îÄ‚îÄ ‚úÖ Lint & Code Quality
‚îÇ   ‚îú‚îÄ‚îÄ ‚úÖ Security Audit
‚îÇ   ‚îú‚îÄ‚îÄ ‚úÖ Lighthouse CI (Performance: 92%)
‚îÇ   ‚îú‚îÄ‚îÄ ‚úÖ Service Worker Warmup
‚îÇ   ‚îú‚îÄ‚îÄ ‚úÖ Verify Deployment
‚îÇ   ‚îî‚îÄ‚îÄ ‚úÖ Notify Success
‚îÇ
‚îî‚îÄ‚îÄ üì¶ Releases
    ‚îî‚îÄ‚îÄ v1.0.0 (Draft)
        ‚îî‚îÄ‚îÄ app-release.aab (12.5 MB)
```

---

## üîß Troubleshooting

### CI/CD —É–ø–∞–ª —Å –æ—à–∏–±–∫–æ–π "Secrets not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã GitHub Secrets

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤—å—Ç–µ secrets (—Å–º. —Ä–∞–∑–¥–µ–ª 1)
2. Re-run failed jobs
3. –ò–ª–∏ –∑–∞–ø—É—à—å—Ç–µ –ø—É—Å—Ç–æ–π –∫–æ–º–º–∏—Ç: `git commit --allow-empty -m "Trigger CI"`

### Lighthouse –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∏–∑–∫–∏–π score

**–ü—Ä–∏—á–∏–Ω–∞:** Vercel deployment –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ push
- Re-run Lighthouse job
- –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ `sleep 30` –≤ workflow

### Android build —É–ø–∞–ª

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. Secrets –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã ‚Üí –¥–æ–±–∞–≤—å—Ç–µ
2. Keystore –Ω–µ —Å–æ–∑–¥–∞–Ω ‚Üí —Å–æ–∑–¥–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ —Ä–µ–ø–æ (–ù–ï–¢! –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Secrets)
3. JDK version mismatch ‚Üí Actions –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π JDK 17

**–î–ª—è Android build –ª—É—á—à–µ —Å–æ–±–∏—Ä–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
npm run build:android
```

### iOS Push –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. iOS version >= 16.4?
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ Home Screen (–Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)?
3. VAPID –∫–ª—é—á–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Vercel?
4. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–∞–Ω–æ?

---

## ‚úÖ Final Checklist

**GitHub Secrets:**
- [ ] ANDROID_KEYSTORE_PASSWORD –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] ANDROID_KEY_PASSWORD –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] LHCI_GITHUB_APP_TOKEN –¥–æ–±–∞–≤–ª–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Keystore:**
- [ ] Keystore —Å–æ–∑–¥–∞–Ω (`upload.keystore`)
- [ ] –ü–∞—Ä–æ–ª—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ 3 –º–µ—Å—Ç–∞—Ö
- [ ] Backup —Å–¥–µ–ª–∞–Ω
- [ ] SHA256 –∏–∑–≤–ª–µ—á—ë–Ω
- [ ] `assetlinks.json` –æ–±–Ω–æ–≤–ª—ë–Ω

**iOS Testing:**
- [ ] PWA —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ home screen
- [ ] Audio playback —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Background playback —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Lock screen controls –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
- [ ] Offline mode —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Push notifications –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (iOS 16.4+)

**CI/CD:**
- [ ] GitHub Actions –∑–∞–ø—É—â–µ–Ω
- [ ] –í—Å–µ jobs –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
- [ ] Lighthouse score >= 85%
- [ ] Deployment verified
- [ ] Android AAB —Å–æ–±—Ä–∞–Ω (–ø—Ä–∏ tag)

**Security:**
- [ ] `.gitignore` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- [ ] No `.keystore` files in Git history
- [ ] VAPID keys –≤ Vercel Environment Variables
- [ ] Supabase keys –Ω–µ –≤ –ø—É–±–ª–∏—á–Ω–æ–º –∫–æ–¥–µ

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:

‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π CI/CD pipeline
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ security checks
‚úÖ Performance monitoring —Å Lighthouse
‚úÖ iOS PWA —Å full –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
‚úÖ Web Push notifications
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ Android AAB
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Google Play Store (—Å–º. [QUICK_START.md](QUICK_START.md))
